---
layout: post
title:  "GPU学习"
date:   2020-04-05 10:04:00
categories: GPU
tags: GPU
excerpt: GPU学习
---

### paddle-box论文

[paddlebox-Paper.pdf](/docs/learn_gpu/paddlebox-Paper.pdf)

[balla(02-08-00)-02-09-40-1408-distributed_hie.pdf](/docs/learn_gpu/paddlebox-ppt.pdf)



### gpu通信

1. [https://www.infoq.cn/article/3D4MsRVS8ZOtGCj7\*krT](https://www.infoq.cn/article/3D4MsRVS8ZOtGCj7*krT)

2. [http://server.it168.com/a2018/0604/3206/000003206891.shtml](http://server.it168.com/a2018/0604/3206/000003206891.shtml)

3. [https://blog.csdn.net/weixin_34186128/article/details/89717186](https://blog.csdn.net/weixin_34186128/article/details/89717186)

4. [https://blog.csdn.net/weixin_33709609/article/details/89687048](https://blog.csdn.net/weixin_33709609/article/details/89687048)



### 一个还不错的gpu入门系列

1. [简要介绍了一下nvidia的发展历史](https://juejin.im/post/5bd1e767f265da0afb3389f8)

2. [cuda](https://juejin.im/post/5bc9f83b5188255c8a06307d)

3. [gpu架构](https://juejin.im/post/5bcdf5715188251a29718b85)

4. [CPU与GPU的矩阵乘法对比](https://juejin.im/post/5c458b036fb9a049ba41e4a8)

5. [并行规约优化](https://juejin.im/post/5c683450518825621d0b9608) 

6. [利用好shared memory](https://juejin.im/post/5c6a31afe51d457fa31e6324)



一些名词：

**pin memory**：锁页内存，锁页内存存放的内容在任何情况下都不会被换页到硬盘上

**PCIe**：IO总线

<img src="/images/learn_gpu/2.png" width="70%" height="70%">

**NVSwitch**:为了解决混合立方网格拓扑结构的问题，类似于PCIe使用PCIe Switch用于拓扑的扩展，NVIDIA使用NVSwitch实现了NVLink的全连接。NVSwitch作为首款节点交换架构，可支持单个服务器节点中 16 个全互联的 GPU，并可使全部 8 个 GPU 对分别以 300 GB/s 的惊人速度进行同时通信。这 16 个全互联的 GPU (32G显存V100)还可作为单个大型加速器，拥有 0.5 TB 统一显存空间和 2 PetaFLOPS 计算性能。

**GPUDirect RDMA**，就是计算机1的GPU可以直接访问计算机2的GPU内存。而在没有这项技术之前，GPU需要先将数据从GPU内存搬移到系统内存，然后再利用RDMA传输到计算机2，计算机2的GPU还要做一次数据从系统内存到GPU内存的搬移动作。GPUDirect RDMA技术使得进一步减少了GPU通信的数据复制次数，通信延迟进一步降低。

<img src="/images/learn_gpu/1.png" width="80%" height="80%">

**InfiniBand**:IP网络协议如TCP/IP，具有转发丢失数据包的特性，网络不良时要不断地确认与重发，基于这些协议的通信也会因此变慢，极大地影响了性能。与之相比，IB使用基于信任的、流控制的机制来确保连接的完整性，数据包极少丢失。使用IB协议，除非确认接收缓存具备足够的空间，否则不会传送数据。接受方在数据传输完毕之后，返回信号来标示缓存空间的可用性。通过这种办法，IB协议消除了由于原数据包丢失而带来的重发延迟，从而提升了效率和整体性能。

